jQuery(function(a){if("undefined"==typeof oceanwpLocalize||a(".woocommerce div.product").hasClass("product-type-grouped"))return!1;var t=function(){a(document.body).on("click",".product:not(.product-type-external) .single_add_to_cart_button:not(.disabled)",this.onAddToCart).on("added_to_cart",this.updateButton)};t.prototype.onAddToCart=function(t){t.preventDefault();var e=a(this),r=a(this).val(),o=a('input[name="variation_id"]').val(),d=a('input[name="quantity"]').val(),n=a(this).closest(".variations_form"),c=n.find("select[name^=attribute]"),i={};e.removeClass("added"),e.addClass("loading"),c.length||(c=n.find("[name^=attribute]:checked")),c.length||(c=n.find("input[name^=attribute]")),c.each(function(){var t,e,r=a(this),o=r.attr("name"),d=r.val();r.removeClass("error"),0===d.length?(t=o.lastIndexOf("_"),e=o.substring(t+1),r.addClass("required error").before("Please select "+e)):i[o]=d}),""!=o?a.ajax({url:oceanwpLocalize.ajax_url,type:"POST",data:{action:"oceanwp_add_cart_single_product",product_id:r,variation_id:o,variation:i,quantity:d},success:function(t){a(document.body).trigger("wc_fragment_refresh"),a(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,e]),"yes"!==oceanwpLocalize.cart_redirect_after_add||(window.location=oceanwpLocalize.cart_url)}}):a.ajax({url:oceanwpLocalize.ajax_url,type:"POST",data:{action:"oceanwp_add_cart_single_product",product_id:r,quantity:d},success:function(t){a(document.body).trigger("wc_fragment_refresh"),a(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,e]),"yes"!==wc_add_to_cart_params.cart_redirect_after_add||(window.location=wc_add_to_cart_params.cart_url)}})},t.prototype.updateButton=function(a,t,e,r){(r=void 0!==r&&r)&&(r.removeClass("loading"),r.addClass("added"),oceanwpLocalize.is_cart||0!==r.parent().find(".added_to_cart").length||r.after(' <a href="'+oceanwpLocalize.cart_url+'" class="added_to_cart wc-forward" title="'+oceanwpLocalize.view_cart+'">'+oceanwpLocalize.view_cart+"</a>"))},new t});